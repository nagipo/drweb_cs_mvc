<!-- 左邊設定列_插入元件 -->
<div class="block formSpace " id="bar" style="align-items: center; position: fixed; padding-bottom: 200px;">
    <div style=" text-align: center;">
        <!-- 卡片元件統一設定 -->
        <div class="fw-bold"
            style="font-size:  24px; background-color: #aaaaaa; height: 60px; text-align: center; padding-top:2.5% ;">
            卡片元件設定
        </div>
        <div style="padding: 20px;">
            <div>
                <label for="b_1_bloInput" style="font-size: 16px;">區塊標題：</label>
                <input id="b_1_bloInput" class="form-control form-control-sm"
                    style="width:300px; height: 40px; display: inline; background-color: #b8b8b8;" type="text"
                    value="我是標題" placeholder="請填寫此區標題，若無則空" onblur="BodyTitle(this)">
            </div>
            <div style="margin: 10px auto;">
                <label style="font-size: 16px; vertical-align: top;">區塊內文：</label>
                <textarea class="form-control form-control-sm" style="width: 300px; height: 100px; background-color: #b8b8b8; display: inline;
                    resize: vertical;" placeholder="請填寫區塊簡介，若無則空" onblur="BodyContent(this)"></textarea>
            </div>
            <div style="display: flex;align-content: center; justify-content: center;align-items: center;">
                <label for="b_1_bloIC" style="font-size: 16px;">區塊顏色：</label>
                <input type="color" id="b_1_bloIC" name="b_1_bloIC" value="#FFFFFF"
                    oninput="updateColorInput(nb_1_bloIT, this.value)" onblur="cardDivColor(this)">
                <input type="text" id="b_1_bloIT" class="rounded form-control form-control-sm" value="#FFFFFF"
                    oninput="updateColorPicker(nb_1_bloIC, this.value)"
                    style="width: 250px; display: inline-block; background-color: #b8b8b8;" onblur="cardDivColor(this)"><br>
            </div>
            <div>
                <div style="font-size: 16px; margin-top: 20px; text-align: left; margin-left: 7%;">
                    區塊背景圖片
                </div>
                <div class="dropArea" id="b_1_bloDiv" height: 200px;
                    style="text-align: center;display: flex;align-items: center; justify-content: space-around; margin-left: 7%; "
                    ondragover="handleDragOver(event)" ondrop="handleDrop(event, nb_1_bloDiv)"
                    onclick="clickUpload(nb_1_bloDiv)">
                    拖曳或點選<br>此處上傳圖片
                </div>
            </div>

            <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>

            <!-- 樣式選擇 -->
            <div class="fw-bold" style="font-size: 20px; margin-top: 20px; text-align: left; margin-left: 7%;">
                圖片樣式
            </div>
            <div style=" text-align: left; margin-left: 7%;">
                <label class="previeTitle" style="margin-top: 20px;">樣式：</label><br>
            </div>

            <input type="radio" name="nb_1_eleRadName" id="b_1_eleRadio_1" class="inputHidden"
                onclick="showContent(nb_1_conDiv_1)" onclick="showContent('imgEle_1')" />
            <label for="b_1_eleRadio_1" onclick="cardElement01(event,'view-',grid_test)">
                <img src="backstage/icon/eleCard-1.png" alt=""
                    style="height: 100px; width: 200px; object-fit: contain; margin: 10px auto;" />
            </label>
            <input type="radio" name="nb_1_eleRadName" id="b_1_eleRadio_2" class="inputHidden"
                onclick="showContent(nb_1_conDiv_2)" onclick="showContent('imgEle_2')" />
            <label for="b_1_eleRadio_2" style="margin-bottom: 20px;" onclick="cardElement02(event,'view-',grid_test)">
                <img src="backstage/icon/eleCard-2.png" alt="" style="height: 100px; width: 200px; object-fit: contain;" />
            </label>
            <input type="radio" name="nb_1_eleRadName" id="b_1_eleRadio_3" class="inputHidden"
                onclick="showContent(nb_1_conDiv_3)" onclick="showContent('imgEle_3')" />
            <label for="b_1_eleRadio_3" style="margin-bottom: 20px;" onclick="cardElement03(event,'view-',grid_test)">
                <img src="backstage/icon/eleCard-3.png" alt="" style="height: 100px; width: 200px; object-fit: contain;" />
            </label>
            <input type="radio" name="nb_1_eleRadName" id="b_1_eleRadio_4" class="inputHidden"
                onclick="showContent(nb_1_conDiv_4)" onclick="showContent('imgEle_4')" />
            <label for="b_1_eleRadio_4" style="margin-bottom: 20px;" onclick="cardElement04(event,'view-',grid_test)">
                <img src="backstage/icon/eleCard-4.png" alt="" style="height: 100px; width: 200px; object-fit: contain;" />
            </label>
            <input type="radio" name="nb_1_eleRadName" id="b_1_eleRadio_5" class="inputHidden"
                onclick="showContent(nb_1_conDiv_5)" onclick="showContent('imgEle_5')" />
            <label for="b_1_eleRadio_5" style="margin-bottom: 20px;" onclick="cardElement05(event,'view-',grid_test)">
                <img src="backstage/icon/eleCard-5.png" alt="" style="height: 100px; width: 200px; object-fit: contain;" />
            </label>
            <input type="radio" name="nb_1_eleRadName" id="b_1_eleRadio_6" class="inputHidden"
                onclick="showContent(nb_1_conDiv_6)" onclick="showContent('imgEle_6')" />
            <label for="b_1_eleRadio_6" style="margin-bottom: 20px;" onclick="cardElement06(event,'view-',grid_test)">
                <img src="backstage/icon/eleCard-6.png" alt="" style="height: 100px; width: 200px; object-fit: contain;" />
            </label>
            <input type="radio" name="nb_1_eleRadName" id="b_1_eleRadio_7" class="inputHidden"
                onclick="showContent(nb_1_conDiv_6)" onclick="showContent('imgEle_6')" />
            <label for="b_1_eleRadio_7" style="margin-bottom: 20px;" onclick="cardElement07(event,'view-',grid_test)">
                <img src="backstage/icon/eleCard-7.png" alt="" style="height: 100px; width: 200px; object-fit: contain;" />
            </label>

            <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>
            <!-- 卡片統一設定 -->
            <div>
                <div class="fw-bold" style="font-size: 20px; margin-top: 20px; text-align: left; margin-left: 7%;">
                    卡片｜
                </div>
                <div
                    style="margin: 10px auto; display: flex;align-content: center; justify-content: center;align-items: center;">
                    <label for="b_1_cardBGIC" style="font-size: 16px;">卡片背景：</label>
                    <input type="color" id="b_1_cardBGIC" name="b_1_cardBGIC" value="#FFFFFF"
                        oninput="updateColorInput(nb_1_cardBGIT, this.value)" style="margin-top: 5px;"  onblur="cardColorCard(this)">
                    <input type="text" id="b_1_cardBGIT" class="rounded form-control form-control-sm" value="#FFFFFF"
                        oninput="updateColorPicker(nb_1_cardBGIC, this.value)"
                        style="width: 250px; display: inline-block; background-color: #b8b8b8"onblur="cardColorCard(this)"><br>
                </div>
                <div
                    style="margin: 10px auto; display: flex;align-content: center; justify-content: center;align-items: center;">
                    <label for="b_1_cardTIIC" style="font-size: 16px;">標題顏色：</label>
                    <input type="color" id="b_1_cardTIIC" name="b_1_cardTIIC" value="#000000"
                        oninput="updateColorInput(nb_1_cardTIIT, this.value)" style="margin-top: 5px;" onblur="cardTitleColor(this)">
                    <input type="text" id="b_1_cardTIIT" class="rounded form-control form-control-sm" value="#000000"
                        oninput="updateColorPicker(nb_1_cardTIIC, this.value)"
                        style="width: 250px; display: inline-block; background-color: #b8b8b8" onblur="cardTitleColor(this)"><br>
                </div>
                <div
                    style="margin: 10px auto; display: flex;align-content: center; justify-content: center;align-items: center;">
                    <label for="b_1_cardTTIC" style="font-size: 16px;">內文顏色：</label>
                    <input type="color" id="b_1_cardTTIC" name="b_1_cardTTIC" value="#000000"
                        oninput="updateColorInput(nb_1_cardTTIT, this.value)" style="margin-top: 5px;" onblur="cardTextColor(this)">
                    <input type="text" id="b_1_cardTTIT" class="rounded form-control form-control-sm" value="#000000"
                        oninput="updateColorPicker(nb_1_cardTTIC, this.value)"
                        style="width: 250px; display: inline-block; background-color: #b8b8b8;" onblur="cardTextColor(this)"><br>
                </div>
            </div>

            <!-- 樣式1 -->
            <div id="b_1_conDiv_1" class="contentEle" style="margin-top: 20px;">
                <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>
                <div class="fw-bold"
                    style="font-size: 20px; margin-top: 20px; margin-bottom: 20px; text-align: left; margin-left: 7%;">
                    卡片內容設定｜
                </div>
                <div style="display: flex; align-items: center; margin-left: 7%;">
                    <div style="font-size: 16px; text-align: left;">
                        卡片數量：
                    </div>
                    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                        <div class="btn-group mr-2" role="group" aria-label="First group">
                            <button type="button" class="btn btn-outline-secondary" value="1"
                                onclick="setCardCount(1, 'container1')">1</button>
                            <button type="button" class="btn btn-outline-secondary" value="2"
                                onclick="setCardCount(2, 'container1')">2</button>
                            <button type="button" class="btn btn-outline-secondary" value="3"
                                onclick="setCardCount(3, 'container1')">3</button>
                            <button type="button" class="btn btn-outline-secondary" value="4"
                                onclick="setCardCount(4, 'container1')">4</button>
                        </div>
                    </div>
                </div>

                <!-- 裝卡片設定的容器 -->
                <div class="container1"></div>
            </div>

            <!-- 樣式2 -->
            <div id="b_1_conDiv_2" class="contentEle" style="margin-top: 20px;">
                <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>
                <div class="fw-bold"
                    style="font-size: 20px; margin-top: 20px; margin-bottom: 20px; text-align: left; margin-left: 7%;">
                    卡片內容設定｜
                </div>
                <div style="display: flex; align-items: center;">
                    <div style="font-size: 16px; text-align: left; margin-left: 7%;">
                        卡片數量：
                    </div>
                    <div class=" btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                        <div class="btn-group mr-2" role="group" aria-label="First group">
                            <button type="button" class="btn btn-outline-secondary" value="1"
                                onclick="setCardCount(1, 'container2')">1</button>
                            <button type="button" class="btn btn-outline-secondary" value="2"
                                onclick="setCardCount(2, 'container2')">2</button>
                        </div>
                    </div>
                </div>

                <!-- 裝卡片設定的容器 -->
                <div class="container2"></div>
            </div>

            <!-- 樣式3 -->
            <div id="b_1_conDiv_3" class="contentEle" style="margin-top: 20px;">
                <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>
                <div class="fw-bold"
                    style="font-size: 20px; margin-top: 20px; margin-bottom: 20px; text-align: left; margin-left: 7%;">
                    卡片內容設定｜
                </div>
                <div style="display: flex; align-items: center;">
                    <div style="font-size: 16px; text-align: left; margin-left: 7%;">
                        卡片數量：
                    </div>
                    <div class=" btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                        <div class="btn-group mr-2" role="group" aria-label="First group">
                            <button type="button" class="btn btn-outline-secondary" value="1"
                                onclick="setCardCount(1, 'container3')">1</button>
                            <button type="button" class="btn btn-outline-secondary" value="2"
                                onclick="setCardCount(2, 'container3')">2</button>
                            <button type="button" class="btn btn-outline-secondary" value="3"
                                onclick="setCardCount(3, 'container3')">3</button>
                        </div>
                    </div>
                </div>

                <!-- 裝卡片設定的容器 -->
                <div class="container3"></div>
            </div>

            <!-- 樣式4 -->
            <div id="b_1_conDiv_4" class="contentEle" style="margin-top: 20px;">
                <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>
                <div class="fw-bold"
                    style="font-size: 20px; margin-top: 20px; margin-bottom: 20px; text-align: left; margin-left: 7%;">
                    卡片內容設定｜
                </div>
                <div style="display: flex; align-items: center;">
                    <div style="font-size: 16px; text-align: left; margin-left: 7%;">
                        卡片數量：
                    </div>
                    <div class=" btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                        <div class="btn-group mr-2" role="group" aria-label="First group">
                            <button type="button" class="btn btn-outline-secondary" value="1"
                                onclick="setCardCount(1, 'container4')">1</button>
                            <button type="button" class="btn btn-outline-secondary" value="2"
                                onclick="setCardCount(2, 'container4')">2</button>
                        </div>
                    </div>
                </div>

                <!-- 裝卡片設定的容器 -->
                <div class="container4"></div>
            </div>

            <!-- 樣式5 -->
            <div id="b_1_conDiv_5" class="contentEle" style="margin-top: 20px;">
                <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>
                <div class="fw-bold"
                    style="font-size: 20px; margin-top: 20px; margin-bottom: 20px; text-align: left; margin-left: 7%;">
                    卡片內容設定｜
                </div>
                <div style="display: flex; align-items: center;">
                    <div style="font-size: 16px; text-align: left; margin-left: 7%;">
                        卡片數量：
                    </div>
                    <div class=" btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                        <div class="btn-group mr-2" role="group" aria-label="First group">
                            <button type="button" class="btn btn-outline-secondary" value="1"
                                onclick="setCardCount(1, 'container5')">1</button>
                            <button type="button" class="btn btn-outline-secondary" value="2"
                                onclick="setCardCount(2, 'container5')">2</button>
                        </div>
                    </div>
                </div>

                <!-- 裝卡片設定的容器 -->
                <div class="container5"></div>
            </div>

            <!-- 樣式6 -->
            <div id="b_1_conDiv_6" class="contentEle">
                <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>
                <div class="fw-bold"
                    style="font-size: 20px; margin-top: 20px; margin-bottom: 20px; text-align: left; margin-left: 7%;">
                    卡片內容設定｜
                </div>
                <div>
                    <div style="font-size: 16px; margin-top: 20px; text-align: left; margin-left: 7%;">
                        卡片圖片-1
                    </div>
                    <div class="dropArea" id="b_1_eleDiv_1" height: 200px;
                        style="text-align: center;display: flex;align-items: center; justify-content: space-around; margin-left: 7%; "
                        ondragover="handleDragOver(event)" ondrop="handleDrop(event, nb_1_eleDiv)"
                        onclick="clickUpload(nb_1_eleDiv)">
                        拖曳或點選<br>此處上傳圖片
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <label for="b_1_eleInput_1" style="font-size: 16px;">卡片標題：</label>
                    <input id="b_1_eleInput_1" class="form-control form-control-sm"
                        style="width:300px; height: 40px; display: inline; background-color: #b8b8b8;" type="text"
                        value="我是標題" placeholder="請填寫此區標題，若無則空">
                </div>
                <div style="margin: 10px auto;">
                    <label style="font-size: 16px; vertical-align: top;">卡片內容：</label>
                    <textarea class="form-control form-control-sm" style="width: 300px; height: 100px; background-color: #b8b8b8; display: inline;
                        resize: vertical;" placeholder="請填寫區塊簡介，若無則空"></textarea>
                </div>
            </div>

            <!-- 樣式7 -->
            <!-- <div id="b_1_conDiv_7" class="contentEle">
                        <div style="border-top: 1px dashed #707070 ; margin-top: 20px; width: 100%;"></div>
                        <div class="fw-bold"
                            style="font-size: 20px; margin-top: 20px; margin-bottom: 20px; text-align: left; margin-left: 7%;">
                            卡片內容設定｜
                        </div>
                        <div>
                            <div style="font-size: 16px; margin-top: 20px; text-align: left; margin-left: 7%;">
                                卡片圖片-1
                            </div>
                            <div class="dropArea" id="b_1_eleDiv_1" height: 200px;
                                style="text-align: center;display: flex;align-items: center; justify-content: space-around; margin-left: 7%; "
                                ondragover="handleDragOver(event)" ondrop="handleDrop(event, nb_1_eleDiv)"
                                onclick="clickUpload(nb_1_eleDiv)">
                                拖曳或點選<br>此處上傳圖片
                            </div>
                        </div>
                        <div style="margin-top: 10px;">
                            <label for="b_1_eleInput_1" style="font-size: 16px;">卡片標題：</label>
                            <input id="b_1_eleInput_1" class="form-control form-control-sm"
                                style="width:300px; height: 40px; display: inline; background-color: #b8b8b8;"
                                type="text" value="我是標題" placeholder="請填寫此區標題，若無則空">
                        </div>
                        <div style="margin: 10px auto;">
                            <label style="font-size: 16px; vertical-align: top;">卡片內容：</label>
                            <textarea class="form-control form-control-sm" style="width: 300px; height: 100px; background-color: #b8b8b8; display: inline;
                        resize: vertical;" placeholder="請填寫區塊簡介，若無則空"></textarea>
                        </div>
                    </div>
                </div> -->
            <!-- 增加btn -->
            <div>
                <button id="btntest" class="btn btn-info" type="submit">送出</button>
            </div>
        </div>
    </div>

    <script>
        //
        // let block = 1;//區塊，從1-4，共4個區塊
        // let ele = 1;//元件，從1-7，共7個元件
        // let counter = 1;//計數，重複的功能，通常在重複元件樣式的地方
        // let grid = 1;

        //id_區塊標題
        nb_1_bloInput = `b${block}_${grid}_${ele}_bloInput_${counter}`;
        document.querySelector(`label[for="b_1_bloInput"]`).setAttribute('for', nb_1_bloInput);
        document.getElementById('b_1_bloInput').id = nb_1_bloInput;

        //id_區塊顏色_顏色選擇器
        nb_1_bloIC = `b${block}_${grid}_${ele}_bloIC_${counter}`;
        nb_1_bloIT = `b${block}_${grid}_${ele}_bloIT_${counter}`;
        document.querySelector(`label[for="b_1_bloIC"]`).setAttribute('for', nb_1_bloIC);
        document.querySelector(`Input[name="b_1_bloIC"]`).setAttribute('name', nb_1_bloIC);
        document.getElementById('b_1_bloIC').id = nb_1_bloIC;
        //id_區塊顏色_輸入
        document.getElementById('b_1_bloIT').id = nb_1_bloIT;

        //id_區塊圖片
        nb_1_bloDiv = `b${block}_${grid}_${ele}_bloDiv_${counter}`;
        document.getElementById('b_1_bloDiv').id = nb_1_bloDiv;

        //id_元件樣式
        nb_1_eleRadio = [];
        nb_1_eleRadName = `b${block}_${grid}_${ele}_eleRadName`;
        for (let i = 1; i <= 7; i++) {
            nb_1_eleRadio[i] = `b${block}_${grid}_${ele}_eleRadio_${counter + i - 1}`;
            document.getElementById(`b_1_eleRadio_${i}`).id = nb_1_eleRadio[i];
            document.querySelector(`label[for="b_1_eleRadio_${i}"]`).setAttribute('for', nb_1_eleRadio[i]);
        }

        //id_樣式容器
        nb_1_conDiv_1 = `b${block}_${grid}_${ele}_conDiv_${counter}`;
        document.getElementById('b_1_conDiv_1').id = nb_1_conDiv_1;
        nb_1_conDiv_2 = `b${block}_${grid}_${ele}_conDiv_${counter + 1}`;
        document.getElementById('b_1_conDiv_2').id = nb_1_conDiv_2;
        nb_1_conDiv_3 = `b${block}_${grid}_${ele}_conDiv_${counter + 2}`;
        document.getElementById('b_1_conDiv_3').id = nb_1_conDiv_3;
        nb_1_conDiv_4 = `b${block}_${grid}_${ele}_conDiv_${counter + 3}`;
        document.getElementById('b_1_conDiv_4').id = nb_1_conDiv_4;
        nb_1_conDiv_5 = `b${block}_${grid}_${ele}_conDiv_${counter + 4}`;
        document.getElementById('b_1_conDiv_5').id = nb_1_conDiv_5;
        nb_1_conDiv_6 = `b${block}_${grid}_${ele}_conDiv_${counter + 5}`;
        document.getElementById('b_1_conDiv_6').id = nb_1_conDiv_6;
        nb_1_conDiv_7 = `b${block}_${grid}_${ele}_conDiv_${counter + 6}`;

        //id_卡片背景顏色
        nb_1_cardBGIC = `b${block}_${grid}_${ele}_cardBGIC_${counter}`;
        nb_1_cardBGIT = `b${block}_${grid}_${ele}_cardBGIT_${counter}`;
        document.querySelector(`label[for="b_1_cardBGIC"]`).setAttribute('for', nb_1_cardBGIC);
        document.querySelector(`Input[name="b_1_cardBGIC"]`).setAttribute('name', nb_1_cardBGIC);
        document.getElementById('b_1_cardBGIC').id = nb_1_cardBGIC;
        document.getElementById('b_1_cardBGIT').id = nb_1_cardBGIT;
        //id_卡片標題顏色
        nb_1_cardTIIC = `b${block}_${grid}_${ele}_cardTIIC_${counter}`;
        nb_1_cardTIIT = `b${block}_${grid}_${ele}_cardTIIT_${counter}`;
        document.querySelector(`label[for="b_1_cardTIIC"]`).setAttribute('for', nb_1_cardTIIC);
        document.querySelector(`Input[name="b_1_cardTIIC"]`).setAttribute('name', nb_1_cardTIIC);
        document.getElementById('b_1_cardTIIC').id = nb_1_cardTIIC;
        document.getElementById('b_1_cardTIIT').id = nb_1_cardTIIT;
        //id_卡片內文顏色
        nb_1_cardTTIC = `b${block}_${grid}_${ele}_cardTTIC_${counter}`;
        nb_1_cardTTIT = `b${block}_${grid}_${ele}_cardTTIT_${counter}`;
        document.querySelector(`label[for="b_1_cardTTIC"]`).setAttribute('for', nb_1_cardTTIC);
        document.querySelector(`Input[name="b_1_cardTTIC"]`).setAttribute('name', nb_1_cardTTIC);
        document.getElementById('b_1_cardTTIC').id = nb_1_cardTTIC;
        document.getElementById('b_1_cardTTIT').id = nb_1_cardTTIT;

        //id_元件圖片
        nb_1_eleDiv = `b${block}_${grid}_${ele}_eleDiv_${counter}`;
        document.getElementById('b_1_eleDiv_1').id = nb_1_eleDiv;
        //id_元件標題
        nb_1_eleInput = `b${block}_${grid}_${ele}_eleInput_${counter}`;
        document.getElementById('b_1_eleInput_1').id = nb_1_eleInput;
        document.querySelector(`label[for="b_1_eleInput_1"]`).setAttribute('for', nb_1_eleInput);

        // 選擇樣式//
        function showContent(contentId) {
            // 隱藏所有的內容
            let allContents = document.getElementsByClassName('contentEle');
            for (let i = 0; i < allContents.length; i++) {
                allContents[i].style.display = 'none';
            }

            // 顯示被選擇的內容
            document.getElementById(contentId).style.display = 'block';
        }


        // 顏色選擇器//
        // 監聽顏色選擇器的 input 事件，更新對應的色碼輸入框
        function updateColorInput(colorCodeInputId, colorValue) {
            let colorCodeInput = document.getElementById(colorCodeInputId);
            colorCodeInput.value = colorValue;
        }

        // 監聽輸入框的 input 事件，更新對應的顏色選擇器
        function updateColorPicker(colorPickerId, colorCode) {
            let colorPicker = document.getElementById(colorPickerId);
            colorPicker.value = colorCode;
        }

        // 上傳圖片//
        // 拖移上傳圖片
        function handleDragOver(event) {
            event.preventDefault();
            event.dataTransfer.dropEffect = 'copy';
        }

        function handleDrop(event, dropAreaId) {
            event.preventDefault();
            uploadImage(event.dataTransfer.files, dropAreaId);
        }
        // 點擊上傳圖片
        function clickUpload(dropAreaId,counterCard) {
            let input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = function () {
                uploadImage(input.files, dropAreaId,counterCard);
            };
            input.click();
        }

        // 在全域範圍內定義原始內容（預設文字）
        originalContent = "拖曳或點選<br>此處上傳圖片";
        function uploadImage(files, dropAreaId,counterCard) {
            let dropArea = document.getElementById(dropAreaId);

            // 檢查 dropArea 是否為 null
            if (!dropArea) {
                console.error('Drop area not found:', dropAreaId);
                return;
            }

            // 移除之前上傳的圖片預覽
            while (dropArea.firstChild) {
                dropArea.removeChild(dropArea.firstChild);
            }

            if (files.length > 0) {
                let file = files[0];
                let reader = new FileReader();

                reader.onload = function (e) {
                    let img = new Image();
                    img.src = e.target.result;
                // -----------------
                // 亨+ 將圖片弄到我要的區塊
                let imgSrc = e.target.result;
                // 設置我要的背景圖片
                // 使用 GridBlock（如果有的话）
                let gridIdSelector = GridBlock ? "#" + GridBlock : "";
                let targetElement = $("#view-" + block + " " + gridIdSelector);
                let otherElement = $("#view-" + block + " " + gridIdSelector + " .card-"+ counterCard+ " img");
                if (targetElement.length > 0) {
                    if (counterCard) {
                        otherElement.prop('src', imgSrc);
                    }
                    else {
                        targetElement.css("background-image", "url('" + imgSrc + "')");
                        console.log("圖片匯入")
                    }
                } else { console.log("回報錯誤"); }
                // -----------------  



                    // 創建預覽區域
                    let previewDiv = document.createElement('div');
                    previewDiv.className = 'preview';
                    previewDiv.appendChild(img);

                    // 創建刪除按鈕
                    let deleteButton = document.createElement('button');
                    deleteButton.className = 'deleteButton';
                    deleteButton.innerHTML = 'X';
                    deleteButton.onclick = function (event) {
                        event.stopPropagation(); // 阻止事件傳播
                        dropArea.removeChild(previewDiv);
                        showPlaceholderText(dropArea, originalContent); // 刪除後檢查是否顯示預設文字
                    
                     // 亨+的--------------------
                     if (targetElement.length > 0) {
                        if (counterCard) {
                            otherElement.prop('src', "");
                        } else {
                            targetElement.css("background-image", ""); // 清除背景图片
                        }
                    }
                    // --------------
                    
                    };

                    previewDiv.appendChild(deleteButton);
                    dropArea.appendChild(previewDiv);
                };

                reader.readAsDataURL(file);
            } else {
                showPlaceholderText(dropArea, originalContent); // 如果沒有上傳圖片，檢查是否顯示預設文字
            }
        }

        // 顯示預設文字的函數
        function showPlaceholderText(dropArea, text) {
            // 檢查 dropArea 是否為 null
            if (!dropArea) {
                console.error('Drop area not found');
                return;
            }

            // 檢查是否已經有預設文字元素，如果有，不再添加
            if (dropArea.querySelector('.placeholder-text')) {
                return;
            }

            let placeholderText = document.createElement('div');
            placeholderText.className = 'placeholder-text';
            placeholderText.innerHTML = text;

            dropArea.appendChild(placeholderText);
        }

        // 生成卡片相應數量的設定//   
        // 設定所選卡片數量
        function setCardCount(number, containerId) {
            let localCounter = 1; // 區域變數，歸零 localCounter
            let selectedNumber = number; // 區域變數

            generateDivs(containerId, localCounter, selectedNumber); // 生成容器
        }

        // 生成卡片相應數量的設定
        function generateDivs(containerId, localCounter, selectedNumber) {
            // 清空容器內的內容
            document.querySelector('.' + containerId).innerHTML = '';

            // 插入相應數量的div
            for (let i = 0; i < selectedNumber; i++) {
                let newDiv = document.createElement('div');
                newDiv.className = 'dDiv';
                localCounter++;

                // 插入特定的內容，使用唯一的 id
                newDiv.innerHTML = `
                    <div style="font-size: 16px; margin-top: 20px; text-align: left; margin-left: 7%;">
                        卡片圖片-${localCounter - 1}
                    </div>
                    <div class="dropArea" id="b${block}_${grid}_${ele}_eleDiv_${counter + localCounter - 2}" height: 200px;
                        style="text-align: center;display: flex;align-items: center; justify-content: space-around; margin-left: 7%; "
                        ondragover="handleDragOver(event)" ondrop="handleDrop(event, 'b${block}_${grid}_${ele}_eleDiv_${counter + localCounter - 2}')"
                        onclick="clickUpload('b${block}_${grid}_${ele}_eleDiv_${counter + localCounter - 2}','${i+1}')">
                        拖曳或點選<br>此處上傳圖片
                    </div>
                    <div style="margin: 10px auto;">
                            <label for="${nb_1_eleInput}" style="font-size: 16px;">卡片標題：</label>
                            <input id="${nb_1_eleInput}" class="form-control form-control-sm"
                                style="width:300px; height: 40px; display: inline; background-color: #b8b8b8;" type="text"
                                value="我是標題" placeholder="請填寫此區標題，若無則空" onblur="cardTitle1(this,${i+1})">
                    </div>
                    <div style="margin: 10px auto;">
                            <label style="font-size: 16px; vertical-align: top;">卡片內文：</label>
                            <textarea class="form-control form-control-sm" style="width: 300px; height: 100px; background-color: #b8b8b8; display: inline;
                                resize: vertical;" placeholder="請填寫區塊簡介，若無則空" onblur="cardText1(this,${i+1})"></textarea>
                        </div>
                `;
                // 將新建的 div 插入容器中
                document.querySelector('.' + containerId).appendChild(newDiv);
            }
        }




        // ------------------------------------------- 
        // 亨  資料變動方法  
        // 標題匯入
        function BodyTitle(element) {
            var inputVal = $(element).val();
            $("#view-" + block + " " + "#" + GridBlock + " .headerText1").text(inputVal);
        }

        // 區塊內容
        function BodyContent(element) {
            var inputVal = $(element).val();
            $("#view-" + block + " " + "#" + GridBlock + " .headerText2").text(inputVal);

        }

        // 背景顏色
        function cardDivColor(element) {
            var inputVal = $(element).val();
            //  或許有問題後續看看
            $("#view-" + block + " " + "#" + GridBlock + " .child").css("background-color", inputVal);

        }




        // 卡片背景顏色
        function cardColorCard(element) {
            var inputVal = $(element).val();
            //  或許有問題後續看看
            $("#view-" + block + " " + "#" + GridBlock + " .card").css("background-color", inputVal);

        }
        // 卡片標題顏色
        function cardTitleColor(element) {
            var inputVal = $(element).val();
            //  或許有問題後續看看
            $("#view-" + block + " " + "#" + GridBlock + " .card-title").css("color", inputVal);

        }
        // 卡片內文顏色
        function cardTextColor(element) {
            var inputVal = $(element).val();
            //  或許有問題後續看看
            $("#view-" + block + " " + "#" + GridBlock + " .card-text").css("color", inputVal);

        }

        // 這邊要更正  可能要對應每一個標題文字去做更改

        // 卡片標題
        function cardTitle1(element,cardCount) {
            var inputVal = $(element).val();
            $("#view-" + block + " " + "#" + GridBlock + " .card-" + cardCount + " .card-title").text(inputVal);

        }
        // 卡片內文 
        function cardText1(element,cardCount) {
            var inputVal = $(element).val();
            var borderWidth = '1px';
            var borderStyle = 'solid';
            $("#view-" + block + " " + "#" + GridBlock + " .card-" + cardCount + " .card-text").text(inputVal);
        }





        // -----------------------------------


    </script>